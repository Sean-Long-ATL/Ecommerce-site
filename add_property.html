<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset = "UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Property Entry form</title>
        <link rel="stylesheet" href="user.css">
</head>
<body >
    <h1>Bargain Basement Real Estate Connections</h1>
    <div><h2>Add Your Property</h2>
      <form action='add_property.php' method="POST">
        <input type="text" name="owner" id="owner"  hidden /> 

    <script type="text/javascript">
        function getCookie(cookie_name) {
           let allcookies = document.cookie;

           // Get all the cookies pairs in an array
           let cookiearray = allcookies.split(';');
           let split;

           // Now take key value pair out of this array
           for(var i=0; i<cookiearray.length; i++) {
              split = cookiearray[i].split('=');
              name = split[0].replaceAll(' ','');   // The name can have a leading space
              value = split[1];
              if (split.length === 2) {
                 if (cookie_name === name  ) {

                    //document.write(name + " equal to "+cookie_name+" so returning "+value+"<br/>");
                    return value;
                 }
              }
           }
        }
        let user_number = getCookie('user_number');    // Grab the value of the cookie with the name user_name
        //alert(user_number);
        if (user_number == undefined ||
            user_number.length < 1) {
            alert("User id not set in cookie. add property failure.");
        }
        console.log(user_number);
        let ownElem = document.getElementById("owner");
        ownElem.defaultValue = user_number.toString();
    </script>
    
        <!-- <label for="owner">Your User ID:</label><br/> -->
         <label for="name">Property Name:</label><br/>
         <input type='text' name='name' id="name" required/> <br/><br/>
         <label for="st_address">Street Address:</label><br/>
         <input type='text' name='st_address' id="st_address" required/> <br/><br/>
         <label for="city">City:</label><br/>
         <input type='text' name='city' id="city" required/> <br/><br/>
         <label for="state">State:</label><br/>
         <input type='text' name='state' id="state" required/> <br/><br/>
         <label for="zip">Zip:</label><br/>
         <input type='text' name='zip' id="zip" required/> <br/><br/>
         <label for="build_date">Build Date:</label><br/>
         <input type='text' name='build_date' id="build_date" required/> <br/><br/>
         <label for="sq_footage">Sq Footage:</label><br/>
         <input type='text' name='sq_footage' id="sq_footage" required/> <br/><br/>
         <label for="num_bedrooms"># Bedrooms:</label><br/>
         <input type='text' name='num_bedrooms' id="num_bedrooms" required/> <br/><br/>
         <label for="num_baths">Baths:</label><br/>
         <input type='text' name='num_baths' id="num_baths" required/> <br/><br/>
         <label for="price">Price:</label><br/>
         <input type='text' name='price' id="price" required/> <br/><br/>
         <!-- <label for="picture">Picture:  optional</label><br/> -->
         <input type='text' name='picture' id='picture' hidden /> <br/><br/>
         <script type="text/javascript">
            const rndInt = Math.floor(Math.random() * 13) + 1;
            let pElem = document.getElementById("picture");
            let picName = "img"+rndInt.toString()+".jpg";
            pElem.defaultValue = picName;
            //alert(picName);
         </script>
	 <input type='submit' name='submit' id="submit">
      </form>
    </div>
</body>
</html>
